import"../../chunk-M4WX3X37.min.js";import{d}from"../../chunk-ZE3BUYRA.min.js";import{a as u}from"../../chunk-J557QKS4.min.js";import{b as h}from"../../chunk-S4JK6Q2N.min.js";import"../../chunk-4ZKVYJEU.min.js";import{a as c}from"../../chunk-W4XKVGST.min.js";import"../../chunk-YYQ3K66Y.min.js";import"../../chunk-VMOY74CW.min.js";import"../../chunk-QV47THKN.min.js";import{a as o}from"../../chunk-IZSNGGHL.min.js";import"../../chunk-I67HI4ND.min.js";import"../../chunk-S6JSSZTP.min.js";import"../../chunk-WWC2O7I3.min.js";import"../../chunk-GZQ76OQN.min.js";import"../../chunk-U2I6ENVD.min.js";import"../../chunk-KNKKDYJE.min.js";import"../../chunk-2XGMIZ3P.min.js";import{e as r,k as m}from"../../chunk-DDHMQM7G.min.js";import{e as a}from"../../chunk-JM5ACZ5I.min.js";var s="mqn-opt--waitlist:";o("bento-theme")(h);var l=class extends c(m){async slotUpdated(){this.isOnWaitlist=u.usingFunction(()=>!1),this.isSignedIn=document.querySelector("[data-is-signed-in]")?.getAttribute("data-is-signed-in")==="true",this.waitlistCtas=Array.from(this.querySelectorAll(`[class*="${s}"]`)),this.waitlistCtas.length>0&&this.initWaitlistCtas()}initWaitlistCtas(){this.watcher.removeAll(),this.waitlistCtas.forEach(t=>{let n=Array.from(t.classList.values()).find(e=>e.startsWith(s)).split(s)[1];t.removeAttribute("url"),t.setAttribute("track-category","checkout funnel"),t.trackClickLabel=`join waitlist: ${n}`,d().then(e=>{this.watcher.add({element:t,on:"click",callback:b=>{if(b.preventDefault(),this.isSignedIn)this.isOnWaitlist.get(t)?e.leaveWaitlist(n).then(i=>{this.isOnWaitlist.set(t,!1),t.label=i.updatedLabel}):e.joinWaitlist(n).then(i=>{t.label=i.updatedLabel,this.isOnWaitlist.set(t,!0)});else{let p=`https://accounts.google.com/ServiceLogin?ltmpl=googlestore&continue=${encodeURIComponent(location.href)}`;e.navigateToUrl(p)}}})})})}render(){return r` <slot @slotchange=${()=>this.slotUpdated()}></slot>`}};l=a([o("mqn3-template-enrichment-banner-promo")],l);
